<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: data/Set.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: data/Set.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>/*global dessert, troop, sntls */
troop.postpone(sntls, 'Set', function () {
    "use strict";

    var base = sntls.Hash,
        self = base.extend(),
        hOP = Object.prototype.hasOwnProperty;

    /**
     * Instantiates class.
     * @name sntls.Set.create
     * @function
     * @param {object} items
     * @returns {sntls.Set}
     */

    /**
     * Hash-based structure for performing standard set operations such as union, intersection, and difference.
     * @class
     * @extends sntls.Hash
     */
    sntls.Set = self
        .addMethods(/** @lends sntls.Set# */{
            /**
             * Retrieves intersection of two sets.
             * @param {sntls.Set} remoteSet
             * @return {sntls.Set} New set instance with items present in both current and remote set.
             */
            intersectWith: function (remoteSet) {
                dessert.isSet(remoteSet, "Invalid set");

                var currentItems = this.items,
                    remoteItems = remoteSet.items,
                    resultItems = currentItems instanceof Array ? [] : {},
                    itemKey;

                for (itemKey in currentItems) {
                    if (hOP.call(currentItems, itemKey) &&
                        hOP.call(remoteItems, itemKey)) {
                        resultItems[itemKey] = currentItems[itemKey];
                    }
                }

                return this.getBase().create(resultItems);
            },

            /**
             * Extracts symmetric difference of two sets.
             * @param {sntls.Set} remoteSet
             * @returns {sntls.Set} New set instance with elements only present in either current or remote set.
             */
            differenceWith: function (remoteSet) {
                return this
                    .unionWith(remoteSet)
                    .subtract(this.intersectWith(remoteSet));
            },

            /**
             * Unites two sets.
             * @param {sntls.Set} remoteSet
             * @returns {sntls.Set} New set instance with items from both current and remote sets.
             */
            unionWith: function (remoteSet) {
                dessert.isSet(remoteSet, "Invalid set");

                var resultItems = sntls.Utils.shallowCopy(this.items),
                    currentItems = this.items,
                    remoteItems = remoteSet.items,
                    itemKey;

                for (itemKey in remoteItems) {
                    if (hOP.call(remoteItems, itemKey) && !hOP.call(currentItems, itemKey)) {
                        resultItems[itemKey] = remoteItems[itemKey];
                    }
                }

                return this.getBase().create(resultItems);
            },

            /**
             * Retrieves relative complement of two sets (A\B).
             * @param {sntls.Set} remoteSet
             * @returns {sntls.Set} New set instance with items from current instance except what's also present in
             * remote set.
             */
            subtract: function (remoteSet) {
                dessert.isSet(remoteSet, "Invalid set");

                var currentItems = this.items,
                    remoteItems = remoteSet.items,
                    resultItems = currentItems instanceof Array ? [] : {},
                    itemKey;

                for (itemKey in currentItems) {
                    if (hOP.call(currentItems, itemKey) &&
                        !hOP.call(remoteItems, itemKey)) {
                        resultItems[itemKey] = currentItems[itemKey];
                    }
                }

                return this.getBase().create(resultItems);
            },

            /**
             * Retrieves relative complement of two sets (B\A).
             * @param {sntls.Set} remoteSet
             * @returns {sntls.Set} New set instance with items from remote instance except what's also present in
             * current set.
             */
            subtractFrom: function (remoteSet) {
                dessert.isSet(remoteSet, "Invalid set");

                var currentItems = this.items,
                    remoteItems = remoteSet.items,
                    resultItems = currentItems instanceof Array ? [] : {},
                    itemKey;

                for (itemKey in remoteItems) {
                    if (hOP.call(remoteItems, itemKey) &&
                        !hOP.call(currentItems, itemKey)) {
                        resultItems[itemKey] = remoteItems[itemKey];
                    }
                }

                return this.getBase().create(resultItems);
            }
        });
});

troop.amendPostponed(sntls, 'Hash', function () {
    "use strict";

    sntls.Hash.addMethods(/** @lends sntls.Hash# */{
        /**
         * Reinterprets hash as a string dictionary.
         * @returns {sntls.Set}
         */
        toSet: function () {
            return sntls.Set.create(this.items);
        }
    });
});

(function () {
    "use strict";

    dessert.addTypes(/** @lends dessert */{
        isSet: function (expr) {
            return sntls.Set.isBaseOf(expr);
        },

        isSetOptional: function (expr) {
            return typeof expr === 'undefined' ||
                   sntls.Set.isBaseOf(expr);
        }
    });

    troop.Properties.addProperties.call(
        Array.prototype,
        /** @lends Array# */{
            /**
             * Creates a new Set instance based on the current array.
             * @returns {sntls.Set}
             */
            toSet: function () {
                return sntls.Set.create(this);
            }
        },
        false, false, false
    );
}());
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="Array.html">Array</a></li><li><a href="dessert.html">dessert</a></li><li><a href="sntls.ArrayCollection.html">ArrayCollection</a></li><li><a href="sntls.Collection.html">Collection</a></li><li><a href="sntls.DateCollection.html">DateCollection</a></li><li><a href="sntls.Dictionary.html">Dictionary</a></li><li><a href="sntls.Documented.html">Documented</a></li><li><a href="sntls.Hash.html">Hash</a></li><li><a href="sntls.IterativeTreeWalker.html">IterativeTreeWalker</a></li><li><a href="sntls.KeyValuePattern.html">KeyValuePattern</a></li><li><a href="sntls.KeyValuePatternCollection.html">KeyValuePatternCollection</a></li><li><a href="sntls.Managed.html">Managed</a></li><li><a href="sntls.OrderedList.html">OrderedList</a></li><li><a href="sntls.OrderedStringList.html">OrderedStringList</a></li><li><a href="sntls.Path.html">Path</a></li><li><a href="sntls.Query.html">Query</a></li><li><a href="sntls.RecursiveTreeWalker.html">RecursiveTreeWalker</a></li><li><a href="sntls.Set.html">Set</a></li><li><a href="sntls.StringCollection.html">StringCollection</a></li><li><a href="sntls.StringDictionary.html">StringDictionary</a></li><li><a href="sntls.Tree.html">Tree</a></li><li><a href="sntls.TreeWalker.html">TreeWalker</a></li><li><a href="sntls.Utils.html">Utils</a></li><li><a href="String.html">String</a></li></ul><h3>Namespaces</h3><ul><li><a href="sntls.html">sntls</a></li><li><a href="troop.html">troop</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.0-dev</a> on Sat Feb 07 2015 14:31:09 GMT-0000 (GMT)
</footer>

<script> prettyPrint(); </script>
</body>
</html>
