<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Stateful</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Class: Stateful</h1>
    
    



<section>
    
<header>
    <h2>
        <span class="ancestors"><a href="sntls.html">sntls</a>.</span>
    
    Stateful
    </h2>
    
</header>  

<article>
    <div class="container-overview">
<dd>
    
    
    <div class="description">
        Trait.
Behavior that makes a class stateful by adding multiple layers of orthogonal state matrices.
Transitions in those matrices get associated with methods of the class.
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Stateful.js.html">behavior/Stateful.js</a>, line 5
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    
    
</dd>

    
    </div>
    
    
        <h3 class="subsection-title">Extends</h3>
        
        <ul>
            <li>troop.Base</li>
        </ul>
    
    
    
    
    
    
    
    
    
    
    
        <h3 class="subsection-title">Members</h3>
        
        <dl>
            
<dt>
    <h4 class="name" id="currentStates"><span class="type-signature"></span>currentStates<span class="type-signature"> :<a href="sntls.Collection.html">sntls.Collection</a></span></h4>
    
    
</dt>
<dd>
    
    <div class="description">
        Collection holding current state names for each state layer.
Key: name of state layer, value: name of current state for that layer.
    </div>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Stateful.js.html">behavior/Stateful.js</a>, line 24
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
</dd>

        
            
<dt>
    <h4 class="name" id="defaultStates"><span class="type-signature"></span>defaultStates<span class="type-signature"> :<a href="sntls.Collection.html">sntls.Collection</a></span></h4>
    
    
</dt>
<dd>
    
    <div class="description">
        Associates layer names with default state names.
    </div>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Stateful.js.html">behavior/Stateful.js</a>, line 78
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
</dd>

        
            
<dt>
    <h4 class="name" id="stateMatrices"><span class="type-signature"></span>stateMatrices<span class="type-signature"> :<a href="sntls.StateMatrixCollection.html">sntls.StateMatrixCollection</a></span></h4>
    
    
</dt>
<dd>
    
    <div class="description">
        Associates layer names with state matrices.
    </div>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Stateful.js.html">behavior/Stateful.js</a>, line 84
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
</dd>

        </dl>
    
    
    
        <h3 class="subsection-title">Methods</h3>
        
        <dl>
            
<dt>
    <h4 class="name" id="addStateLayer"><span class="type-signature">&lt;static> </span>addStateLayer<span class="signature">(layerName, stateMatrix, defaultState)</span><span class="type-signature"> &rarr; {<a href="sntls.Stateful.html">sntls.Stateful</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Adds an independent state layer to the class.
A state layer is a set of mutually exclusive states, eg. enabled-disabled, or open-closed.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>layerName</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last">Name of state layer. Layer will be referenced by this name
when accessing or changing states on instance.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>stateMatrix</code></td>
            
            
            <td class="type">
            
                
<span class="param-type"><a href="sntls.StateMatrix.html">sntls.StateMatrix</a></span>


            
            </td>
            
            
            
            
            
            <td class="description last">State matrix instance. Load in this state matrix
represents method names for the stateful class.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>defaultState</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last">Default state for this layer.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Stateful.js.html">behavior/Stateful.js</a>, line 66
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="sntls.Stateful.html">sntls.Stateful</a></span>


	</dd>
</dl>

        
    
    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>var MyStateful = troop.Base.extend()
 .addTrait(sntls.Stateful)
 .addStateLayer(
     'openClose',
     sntls.StateMatrix.create()
         .addEdge('open', 'closed', 'open') // MyStateful.open()
         .addEdge('closed', 'open', 'close'), // MyStateful.close()
     'closed' // default state
 )
 .addMethod({
     init: function () {
         sntls.Stateful.init.call(this);
     },
     open: function () { alert("Opening..."); },
     close: function () { alert("Closing..."); }
 });</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="changeStateTo"><span class="type-signature"></span>changeStateTo<span class="signature">(stateName, layerName)</span><span class="type-signature"> &rarr; {<a href="sntls.Stateful.html">sntls.Stateful</a>}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Changes state on stateful instance from current state to destination state and
calls the method associated with the transition. The method receives no arguments, but is able
to prevent the transition by returning `false`.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>stateName</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last">Name of destination state.</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>layerName</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last">Name of selected state layer.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Stateful.js.html">behavior/Stateful.js</a>, line 109
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type"><a href="sntls.Stateful.html">sntls.Stateful</a></span>


	</dd>
</dl>

        
    
    
        <h5>Example</h5>
        
    <pre class="prettyprint"><code>var myStateful = MyStateful.create();
myStateful.currentState('openClose') // 'closed', default state for this layer
myStateful.changeStateTo('open', 'openClose') // alerts "Opening..."</code></pre>

    
</dd>

        
            
<dt>
    <h4 class="name" id="currentState"><span class="type-signature"></span>currentState<span class="signature">(layerName)</span><span class="type-signature"> &rarr; {string}</span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Retrieves name of the current state for the specified state layer.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>layerName</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last"></td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Stateful.js.html">behavior/Stateful.js</a>, line 34
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    <h5>Returns:</h5>
    
            


<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">string</span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="init"><span class="type-signature"></span>init<span class="signature">()</span><span class="type-signature"></span></h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Initializes stateful instance by assigning default states for each layer
as the current state.
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="Stateful.js.html">behavior/Stateful.js</a>, line 18
    </li></ul></dd>
    
    
    
    
    
    
    
</dl>

    
    
    
    
    
    
    
    
</dd>

        </dl>
    
    
    
    
    
</article>

</section>  




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="sntls.ArrayCollection.html">ArrayCollection</a></li><li><a href="sntls.Collection.html">Collection</a></li><li><a href="sntls.DateCollection.html">DateCollection</a></li><li><a href="sntls.Dictionary.html">Dictionary</a></li><li><a href="sntls.Documented.html">Documented</a></li><li><a href="sntls.Hash.html">Hash</a></li><li><a href="sntls.IterativeTreeWalker.html">IterativeTreeWalker</a></li><li><a href="sntls.JournalingCollection.html">JournalingCollection</a></li><li><a href="sntls.Lineage.html">Lineage</a></li><li><a href="sntls.Managed.html">Managed</a></li><li><a href="sntls.OrderedList.html">OrderedList</a></li><li><a href="sntls.OrderedStringList.html">OrderedStringList</a></li><li><a href="sntls.Path.html">Path</a></li><li><a href="sntls.Profile.html">Profile</a></li><li><a href="sntls.ProfileCollection.html">ProfileCollection</a></li><li><a href="sntls.Profiled.html">Profiled</a></li><li><a href="sntls.Progenitor.html">Progenitor</a></li><li><a href="sntls.Query.html">Query</a></li><li><a href="sntls.QueryPattern.html">QueryPattern</a></li><li><a href="sntls.QueryPatternCollection.html">QueryPatternCollection</a></li><li><a href="sntls.RecursiveTreeWalker.html">RecursiveTreeWalker</a></li><li><a href="sntls.Stateful.html">Stateful</a></li><li><a href="sntls.StateMatrix.html">StateMatrix</a></li><li><a href="sntls.StateMatrixCollection.html">StateMatrixCollection</a></li><li><a href="sntls.StringCollection.html">StringCollection</a></li><li><a href="sntls.StringDictionary.html">StringDictionary</a></li><li><a href="sntls.Tree.html">Tree</a></li><li><a href="sntls.TreeWalker.html">TreeWalker</a></li><li><a href="sntls.Utils.html">Utils</a></li></ul><h3>Namespaces</h3><ul><li><a href="sntls.html">sntls</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.0-dev</a> on Sun Aug 25 2013 23:10:48 GMT+0200 (CEST)
</footer>

<script> prettyPrint(); </script>
</body>
</html>
